(()=>{"use strict";const e=e=>{setTimeout((()=>{e.textContent=""}),5e3)};let t=document.createElement("span");t.classList.add("addError"),t.textContent="";const s=(e,s)=>{const o=e.parentElement;o.classList.remove("success"),o.classList.add("error"),t.textContent=s,o.after(t)},o=e=>{const s=e.parentElement;s.classList.remove("error"),s.classList.add("success"),t.textContent="",t.remove()};(()=>{const e=document.documentElement.clientHeight;let t=document.querySelector(".up");t.style.display="none",window.addEventListener("scroll",(()=>{document.body.scrollTop>e||document.documentElement.scrollTop>e?t.style.display="block":t.style.display="none"}))})(),((e,t,s,o)=>{const i=document.querySelector(`.${e}`),n=document.querySelectorAll(`.${t}`);if(i&&n.length>0){let e=[];const t=document.createElement("ul");t.classList.add(s),n.forEach(((s,i)=>{const n=document.createElement("li");n.classList.add("dot"),e.push(t.appendChild(n)),0==i&&n.classList.add(o)})),i.append(t)}})("top-slider","item","slick-dots","slick-active"),((e,t,s="slide-active",o)=>{const i=document.querySelector(`.${e}`),n=document.querySelectorAll(`.${t}`);if(i&&n.length>0){let e,t=3500,l=0,r=document.querySelectorAll(".dot");const a=(e,t)=>{"slide-active"===e&&t.forEach(((e,s)=>{l===s?(e.style.transform="scale(1)",e.style.position="absolute",e.style.left=0,e.style.right=0,e.style.opacity=1,e.style.visibility="visible"):(e.style.opacity="",e.style.visibility="hidden",e.style.transform="scale(1.5)"),l>=t.length&&(l=0),l<0&&(l=t.length-1)}))},d=(e,t,s)=>{e[t].classList.remove(s)},c=(e,t,s)=>{e[t].classList.add(s)},p=()=>{d(n,l,s),o&&d(r,l,o),l++,l>=n.length&&(l=0),c(n,l,s),o&&c(r,l,o),a(s,n)},h=(t=1500)=>{e=setInterval(p,t)},m=()=>{clearInterval(e)};i.addEventListener("click",(e=>{e.preventDefault(),e.target.matches(".dot")&&(d(n,l,s),o&&d(r,l,o),e.target.classList.contains("dot")&&r.forEach(((t,s)=>{e.target===t&&(l=s)})),l>=n.length&&(l=0),l<0&&(l=n.length-1),c(n,l,s),o&&c(r,l,o),a(s,n))})),i.addEventListener("mouseenter",(e=>{e.target.matches(".dot")&&m()}),!0),i.addEventListener("mouseleave",(e=>{e.target.matches(".dot")&&h(t)}),!0),h(t)}})("top-slider","item","active","slick-active"),(()=>{const e=document.querySelector(".mobile-menu");document.addEventListener("click",(t=>{t.target.classList.contains("mob-menu-btn")&&e.classList.toggle("open"),t.target!==e&&!t.target.classList.contains("mob-menu-btn")&&e.classList.remove("open")}))})(),document.addEventListener("click",(e=>{(e.target.closest(".mobile-menu>ul>li>a")||e.target.closest(".top-menu>ul>li>a"))&&(e=>{const t=e.target.getAttribute("href").substr(1);((e,t)=>{e.preventDefault(),t.scrollIntoView({block:"start",behavior:"smooth"})})(e,document.getElementById(t))})(e),e.target.classList.contains("up")&&(e=>{e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})})(e)})),(()=>{const e=document.querySelector(".modal-overlay"),t=document.querySelector(".modal-callback"),s=[e,t],o=()=>{s.forEach((e=>{e.style.display?(e.style.display="",document.body.style.overflow=""):(e.style.display="block",document.body.style.overflow="hidden")}))};document.addEventListener("click",(t=>{t.target.classList.contains("fancyboxModal")&&o(),t.target.closest(".modal-close")&&o(),t.target==e&&o()}))})(),new class{constructor({main:e,wrap:t,next:s,prev:o,infinity:i=!1,position:n=0,slidesToShow:l=3,responsive:r=[]}){e&&t||console.warn('slider-carusel: Необходимо 2 свойства, "main" и "wrap"!'),this.main=document.querySelector(e),this.wrap=document.querySelector(t),this.slides=document.querySelector(t).children,this.next=document.querySelector(s),this.prev=document.querySelector(o),this.slidesToShow=l,this.options={position:n,infinity:i,widthSlide:Math.floor(100/this.slidesToShow)},this.responsive=r}init(){this.addSlideClass(),this.addStyle(),this.prev&&this.next||this.addArrow(),this.controlSlider(),this.responsive&&this.responseInit()}addSlideClass(){this.main.classList.add("temp-slider"),this.wrap.classList.add("temp-slider__wrap");for(const e of this.slides)e.classList.add("temp-slider__item")}addStyle(){let e=document.getElementById("sliderCarusel-style");e||(e=document.createElement("style"),e.id="sliderCarusel-style"),document.head.appendChild(e),e.textContent=`\n      .temp-slider {\n        overflow: hidden !important;\n      }\n      .temp-slider__wrap {\n        display: flex !important;\n        transition: transform 0.5s !important;\n        will-change: transform !important;\n      }\n      .temp-slider__item {\n        flex: 0 0 ${this.options.widthSlide}% !important;\n        margin: auto 0 !important;\n      }\n    `}controlSlider(){this.prev.addEventListener("click",this.prevSlider.bind(this)),this.next.addEventListener("click",this.nextSlider.bind(this))}prevSlider(){(this.options.infinity||this.options.position>0)&&(--this.options.position,this.options.position<0&&(this.options.position=this.slides.length-this.slidesToShow),this.wrap.style.transform=`translateX(-${this.options.position*this.options.widthSlide}%)`)}nextSlider(){(this.options.infinity||this.options.position<this.slides.length-this.slidesToShow)&&(++this.options.position,this.options.position>this.slides.length-this.slidesToShow&&(this.options.position=0),this.wrap.style.transform=`translateX(-${this.options.position*this.options.widthSlide}%)`)}addArrow(){this.prev=document.createElement("button"),this.next=document.createElement("button"),this.prev.className="temp-slider__prev",this.next.className="temp-slider__next",this.main.appendChild(this.prev),this.main.appendChild(this.next);const e=document.createElement("style");e.textContent="\n      .temp-slider__prev,\n      .temp-slider__next {\n        position: relative;\n        margin: 0 10px;\n        border: 20px solid transparent;\n        background: transparent;\n      }\n      .temp-slider__next {\n        border-left-color: #19b5fe;\n      }\n      .temp-slider__prev {\n        border-right-color: #19b5fe;\n      }\n      .temp-slider__prev: hover,\n      .temp-slider__next: hover,\n      .temp-slider__prev: focus,\n      .temp-slider__next: focus {\n        background: transparent;\n        outline: transparent;\n      }\n    ",document.head.appendChild(e)}responseInit(){const e=this.slidesToShow,t=this.responsive.map((e=>e.breakpoint)),s=Math.max(...t),o=()=>{const o=document.documentElement.clientWidth;if(o<s)for(let e=0;e<t.length;e++)o<t[e]&&(this.slidesToShow=this.responsive[e].slideToShow,this.options.widthSlide=Math.floor(100/this.slidesToShow),this.addStyle());else this.slidesToShow=e,this.options.widthSlide=Math.floor(100/this.slidesToShow),this.addStyle()};o(),window.addEventListener("resize",o)}}({main:".services-elements",wrap:".services-carousel",slidesToShow:3,infinity:!0,next:".arrow-right",prev:".arrow-left",responsive:[{breakpoint:1024,slideToShow:3},{breakpoint:768,slideToShow:2},{breakpoint:576,slideToShow:1}]}).init(),((e,t)=>{const s=document.querySelector(`.${e}`),o=s.querySelectorAll(".element");s.addEventListener("click",(e=>{o.forEach((e=>{e.classList.contains(t)&&e.classList.remove(t)})),e.target.closest(".title")&&!e.target.classList.contains(t)&&e.target.parentNode.classList.add(t)}))})("accordeon","active"),(t=>{const i=document.getElementById(t),n=document.createElement("div");let l;try{if(!i)throw new Error("Верните форму на место");(e=>{let t;e.addEventListener("input",(e=>{switch(e.target.id){case"username":(e=>{/[а-яё]+/gi.test(e.value.trim())?2!==e.value.length?(t="Имя не может быть меньше 2 букв",s(e,t)):(e.value=e.value.replace(/[a-z\s\d]+/gi,""),o(e)):(t="Можно использовать кириллицу, пробел или дефис",s(e,t),e.value=e.value.replace(/[a-z\s\d]+/gi,""))})(e.target)&&o(e);break;case"phone":(e=>{/^((8|\+375|\+7)[\- ]?)?\(?\d{2,3}\)?[\- ]?\d{1}[\- ]?\d{1}[\- ]?\d{1}[\- ]?\d{1}[\- ]?\d{1}(([\- ]?\d{1})?[\- ]?\d{1})?$/.test(e.value)?o(e):(t="Номер должен начинаться с +7, 8 или +375",e.value=e.value.replace(/[^\+\(\)\-_\d]/gi,""),s(e,t))})(e.target)}}))})(i),i.addEventListener("submit",(t=>{t.preventDefault(),(()=>{const t=i.querySelectorAll(".form-group"),r=i.querySelectorAll('input[type="text"]'),a=new FormData(i),d={};var c;n.textContent="Загрузка...",i.append(n),a.forEach(((e,t)=>{""!==e?(d[t]=e,o(i.elements[t])):(l="Заполните поля",s(i.elements[t],"Заполните поля"))})),(t=>{let s=!0;return t.forEach((t=>{t.classList.contains("error")&&(s=!1,n.textContent="Введите данные",e(n))})),s})(t)&&(c=d,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(c),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((e=>e.json()))).then((t=>{n.textContent="Спасибо! Наш менеджер с вами свяжется.",e(n),r.forEach((e=>{e.value="",e.style.border="",e.classList.remove("success")})),i.closest(".modal-callback")&&setTimeout((()=>{i.closest(".modal-callback").style.display="",document.querySelector(".modal-overlay").style.display=""}),2500)})).catch((t=>{n.textContent="Ошибка... "+t,e(n)}))})()}))}catch(e){console.log(e.message)}})("form-callback")})();